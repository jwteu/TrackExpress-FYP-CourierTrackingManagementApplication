<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/landing" (click)="goToLanding()"></ion-back-button>
    </ion-buttons>
    <ion-title>Login</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true" class="ion-padding">
  <div class="form-container">
    <img src="assets/icon/logo-removebg-preview.png" alt="TrackExpress Logo" class="login-logo"/>
    <h1 class="form-title">Welcome Back</h1>
    <form [formGroup]="loginForm" (ngSubmit)="onLogin()">
      <ion-item class="input-item">
        <ion-label position="floating">Email</ion-label>
        <ion-input formControlName="email" type="email"></ion-input>
      </ion-item>
      <ion-item class="input-item">
        <ion-label position="floating">Password</ion-label>
        <ion-input formControlName="password" type="password"></ion-input>
      </ion-item>
      <ion-item class="input-item">
        <ion-label position="floating">Role</ion-label>
        <ion-select formControlName="role">
          <ion-select-option value="admin">Admin</ion-select-option>
          <ion-select-option value="deliveryman">Deliveryman</ion-select-option>
        </ion-select>
      </ion-item>
      <ion-text class="error-text" color="danger" *ngIf="errorMessage">{{ errorMessage }}</ion-text>
      <ion-button class="primary-button" expand="full" type="submit" [disabled]="loginForm.invalid">Login</ion-button>
      <p class="link-text">
        <a [routerLink]="['/reset-password']">Forgot password?</a> | 
        <a [routerLink]="['/signup']">Sign up</a>
      </p>
    </form>
  </div>
</ion-content>